
*************************************** 
* configuring Border Router interfaces:
*************************************** 

interface GigabitEthernet0/0
description NORTH_SEG
ip address 10.10.10.10 255.255.255.0 		//assign ip address to the GigabitEthernet0/0
ip access-group North-IN in
ip access-group North-OUT out
duplex auto

interface FastEthernet3/0
description SOUTH_SEG
ip address 136.201.10.100 255.255.255.0 	//assign ip address to the FastEthernet3/0
ip access-group South-IN in
ip access-group South-OUT out
duplex auto

interface FastEthernet1/0
description WEST_SEG  				//name the interface PUBLIC_SEG
ip address 136.201.5.100 255.255.255.0 		//assign ip address to the FastEthernet1/0
duplex auto

interface FastEthernet2/0
description EAST_SEG
ip address 136.201.100.1 255.255.255.0 		//assign ip address to the FastEthernet2/0
ip access-group East-IN in
ip access-group East-OUT out
duplex auto

*************************************** 
* configuring OSPF Router protocol:
*************************************** 

router ospf 1

network 10.10.10.0 area 1

network 136.201.5.0 area 0 
network 136.201.10.0 area 0
network 136.201.100.0 area 0


*************************************** 
* configuring North-IN ACL:
*************************************** 
ip access-list extended North-IN
deny ip 66.60.0.0 0.0.255.255 any  		//EvilGroup are denied access to any machine in the corporate network
permit ospf any any 				//permit ospf traffic
permit tcp any host 136.201.5.30 eq 25  	//Any outside machine can access Mail Relay server 136.201.65.30 via SMTP

permit tcp any eq 25 host 136.201.5.30		//relay mail server can access any (outside) machine via SMTP

permit tcp any gt 1023 host 136.201.5.20 eq 80 reflect WEB_ALL_80 	//Everybody can access the Web server
permit tcp any host 136.201.5.10 eq 433 reflect NNTP_433		//Any outside machine can access the NNTP server on port 443
permit tcp any host 136.201.5.10 eq 119 reflect NNTP_119		//Any outside machine can access the NNTP server on port 119

*************************************** 
* configuring North-OUT ACL:
*************************************** 
permit ospf any any 
permit tcp host 136.201.5.30 any eq 25		//Any outside machine can access Mail Relay server via SMTP
permit tcp host 136.201.5.30 eq 25 any  	//Relay Mail server can access any (outside) machine via SMTP
evaluate NNTP_433
evaluate NNTP_119
evaluate WEB_ALL_80



